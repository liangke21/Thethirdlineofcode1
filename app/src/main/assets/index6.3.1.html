<!doctype html>

<title>CodeMirror: C-like mode</title>
<meta charset="utf-8"/>
<link rel=stylesheet href="rely/docs.css">                                       
<link rel="stylesheet" href="rely/codemirror.css">

<link rel="stylesheet" href="rely/idea.css">                                             <!-- 主题背景 -->

<script src="rely/codemirror.js"></script>
<script src="rely//matchbrackets.js"></script>
<link rel="stylesheet" href="rely/show-hint.css">
<script src="rely/show-hint.js"></script>
<script src="rely/clike.js"></script>
<style>.CodeMirror {border: 2px inset #dee;}</style>
<h2>发送标准广播</h2>
<h2>MainActivity631</h2>

<div><textarea id="kotlin-code">
package com.example.broadcasttest
import android.content.Intent
import androidx.appcompat.app.AppCompatActivity
import android.os.Bundle
import com.example.chaptersix631.R
import kotlinx.android.synthetic.main.activity_main631.*
class MainActivity631 : AppCompatActivity() {

override fun onCreate(savedInstanceState: Bundle?) {
super.onCreate(savedInstanceState)
setContentView(R.layout.activity_main631)
button.setOnClickListener {
val intent= Intent("android.intent.broadcasttest.MY_BROADCAST")//发送广播的触发点
intent.setPackage(packageName)
sendBroadcast(intent)
}
}


}
</textarea></div>



<h2>MyBroadcastReceiver</h2>

<div><textarea id="kotlin-code1">
import android.content.BroadcastReceiver
import android.content.Context
import android.content.Intent
import android.widget.Toast

class MyBroadcastReceiver : BroadcastReceiver() {

    override fun onReceive(context: Context, intent: Intent) {
        // This method is called when the BroadcastReceiver is receiving an Intent broadcast.
       Toast.makeText(context,"我要执行咯",Toast.LENGTH_SHORT).show()
    }
}
</textarea></div>
<script/>
var kotlinEditor = CodeMirror.fromTextArea(document.getElementById("kotlin-code1"), {
lineNumbers: true,
matchBrackets: true,
theme: "idea",       <!-- 主题背景 -->
mode: "text/x-kotlin"
});

      var kotlinEditor = CodeMirror.fromTextArea(document.getElementById("kotlin-code"), {
          lineNumbers: true,
          matchBrackets: true,
		  theme: "idea",       <!-- 主题背景 -->
          mode: "text/x-kotlin"
      });


      var mac = CodeMirror.keyMap.default == CodeMirror.keyMap.macDefault;
      CodeMirror.keyMap.default[(mac ? "Cmd" : "Ctrl") + "-Space"] = "autocomplete";
    </script>

<!--/////////////////////////////////////////////////////////////////////////////////////////////////////////////-->
<title>CodeMirror: XML mode</title>
<meta charset="utf-8"/>
<link rel=stylesheet href="rely//docs.css">
<link rel="stylesheet" href="rely//codemirror.css">
<script src="rely/codemirror.js"></script>
<script src="xml.js"></script>

    <h2>AndroidManifest.xml</h2>
<h1>这个文件接收广播</h1>
    <form><textarea id="code" name="code">
<?xml version="1.0" encoding="utf-8"?>
        <?xml version="1.0" encoding="utf-8"?>
        <manifest xmlns:android="http://schemas.android.com/apk/res/android"
                  package="com.example.broadcasttest">

    <!-- 权限声明 -->
    <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED" />

    <application
            android:allowBackup="true"
            android:icon="@mipmap/ic_launcher"
            android:label="@string/app_name"
            android:roundIcon="@mipmap/ic_launcher_round"
            android:supportsRtl="true"
            android:theme="@style/Theme.BroadcastTest">
        <receiver
                android:name=".MyBroadcastReceiver"
                android:enabled="true"
                android:exported="true">
            <intent-filter>
                <action android:name="android.intent.broadcasttest.MY_BROADCAST"/>
            </intent-filter>
        </receiver>


        <activity android:name=".MainActivity631">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />

                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>

</manifest>
</textarea></form>
    <script>
        var editor = CodeMirror.fromTextArea(document.getElementById("code"), {
            mode: "text/html",
            lineNumbers: true
        });
    </script>
<!--/////////////////////////////////////////////////////////////////////////////////////////////////////////////-->
<title>CodeMirror: XML mode</title>
<meta charset="utf-8"/>
<link rel=stylesheet href="rely//docs.css">
<link rel="stylesheet" href="rely//codemirror.css">
<script src="rely/codemirror.js"></script>
<script src="xml.js"></script>
<h2>activity_main631.XML</h2>
<form><textarea id="code1" name="code">
<?xml version="1.0" encoding="utf-8"?>
    <?xml version="1.0" encoding="utf-8"?>
    <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"

                  android:orientation="vertical"
                  android:layout_width="match_parent"
                  android:layout_height="match_parent">

<Button
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:id="@+id/button"
        android:text="按钮"/>


</LinearLayout>
</textarea></form>
<script>
        var editor = CodeMirror.fromTextArea(document.getElementById("code1"), {
            mode: "text/html",
            lineNumbers: true
        });
    </script>